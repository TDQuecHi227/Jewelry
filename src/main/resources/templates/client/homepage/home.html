<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>PNJ - Trang chủ</title>

    <!-- Bootstrap CSS (cần có để .container/.row/.col/.card hoạt động) -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
    />

    <!-- CSS của bạn -->
    <link rel="stylesheet" th:href="@{/css/home.css}" />
</head>
<body>

<!-- Header -->
<header th:replace="~{client/layout/header :: header}"></header>

<!-- Banner chính -->
<section class="hero-banner">
    <img th:src="@{/images/banner/Banner.jpg}" alt="PNJ Banner" />
</section>


<!-- Cam kết dịch vụ -->
<section class="service-commitments">
    <div class="commitment-list">
        <div class="commitment-item">
            <img th:src="@{/images/banner/GiaoHang.svg}" alt="Giao hàng 3H" class="commitment-icon" />
            <div>
                <span class="commitment-title">MIỄN PHÍ</span><br />
                <span class="commitment-desc">Giao hàng 3H</span>
            </div>
        </div>
        <div class="commitment-item">
            <img th:src="@{/images/banner/PhucVu.svg}" alt="Phục vụ 24/7" class="commitment-icon" />
            <div>
                <span class="commitment-title">PHỤC VỤ 24/7</span>
            </div>
        </div>
        <div class="commitment-item">
            <img th:src="@{images/banner/ThuDoi.svg}" alt="Thu đổi 48H" class="commitment-icon" />
            <div>
                <span class="commitment-title">THU ĐỔI 48H</span>
            </div>
        </div>
    </div>
</section>

<!-- Danh mục nổi bật -->
<section class="categories">
    <h2>Danh mục nổi bật</h2>
    <div class="category-grid">
        <div class="category-item" th:each="category : ${categories}">
            <img th:src="@{${category.getImageUrl()}}" alt="Ảnh danh mục">
            <p th:text="${category.name}"></p>
        </div>
    </div>
</section>

<!-- Bộ sưu tập nổi bật -->
<section class="collections container my-4 text-center">
    <h2>Bộ sưu tập mới</h2>
    <div class="collection-wrap position-relative mt-3">
        <button class="col-nav col-prev" aria-label="Trước">‹</button>
        <div class="collection-track" id="collectionTrack">
            <!-- each collection has data-collection-id -->
            <div class="collection-item"
                 th:each="col : ${collections}"
                 th:attr="data-collection-id=${col.id}">
                <img th:src="@{${col.imageUrl}}" th:alt="${col.name}" />
            </div>
        </div>
        <button class="col-nav col-next" aria-label="Sau">›</button>
    </div>
    <div class="collection-dots mt-3" id="collectionDots"></div>
</section>


<!--&lt;!&ndash; Flash Sale Products (dùng Bootstrap grid) &ndash;&gt;-->
<!--&lt;!&ndash; ===== FLASH SALE ===== &ndash;&gt;-->
<!--<div class="container my-4">-->
<!--    <div class="fs-box">  &lt;!&ndash; khung boundary &ndash;&gt;-->
<!--        &lt;!&ndash; Flash Sale &ndash;&gt;-->
<!--        <div class="container-fluid bg-danger text-white text-center py-3">-->
<!--            <h2 class="fw-bold">⚡ CHỚP GIỜ VÀNG – RỘN RÀNG CHÀO LỄ ⚡</h2>-->
<!--        </div>-->
<!--        &lt;!&ndash; Tabs ngày &ndash;&gt;-->
<!--        <div class="fs-tabs d-flex">-->
<!--            <div class="fs-tab"-->
<!--                 th:each="d, iter : ${flashDays}"-->
<!--                 th:classappend="${d.today} ? 'active' : ''">-->

<!--                <div class="fs-tab-title"-->
<!--                     th:text="${iter.index == 0} ? '12:00, ' + ${d.label} : ${d.label}">-->
<!--                    12:00, 25/08-->
<!--                </div>-->

<!--                &lt;!&ndash; countdown hôm nay &ndash;&gt;-->
<!--                <div class="fs-tab-sub" th:if="${d.today}">-->
<!--                    Bắt đầu sau:-->
<!--                    <span class="fs-countdown"-->
<!--                          th:attr="id=${'cd-' + iter.index}, data-time=${d.datetime}">-->
<!--            <span class="cd-badge" data-part="h">&#45;&#45;</span>-->
<!--            <span class="cd-sep">:</span>-->
<!--            <span class="cd-badge" data-part="m">&#45;&#45;</span>-->
<!--            <span class="cd-sep">:</span>-->
<!--            <span class="cd-badge" data-part="s">&#45;&#45;</span>-->
<!--          </span>-->
<!--                </div>-->

<!--                &lt;!&ndash; các ngày sau &ndash;&gt;-->
<!--                <div class="fs-tab-sub text-muted" th:if="${!d.today}">Sắp diễn ra</div>-->
<!--            </div>-->
<!--        </div>-->

        <!-- Danh sách sản phẩm (trượt ngang) -->
        <div class="fs-body position-relative">

            <button class="fs-nav fs-prev" type="button" aria-label="Trước">‹</button>

            <div id="fs-scroller" class="fs-scroller">
                <!-- Chia sản phẩm đều cho các ngày: index % days.size() -->
                <div class="flashsale-item"
                     th:each="product : ${products}">
<!--                     th:attr="data-day=${it.index % #lists.size(days)}">-->

                    <div class="card h-100 border-0 shadow-sm">
                        <img th:src="@{${product.imageUrls[0]}}" class="card-img-top" alt="Ảnh sản phẩm">

                        <div class="card-body text-center">

                            <!-- HÀNG 1: Giá KM + % -->
                            <div class="price-box">
            <span class="price-new"
                  th:text="${#numbers.formatDecimal(product.price,0,'COMMA',0,'POINT')} + ' đ'">
              13,950,000 đ
            </span>
                                <span class="discount-badge"
                                      th:text="'-' + ${product.discount} + '%'">-9%</span>
                            </div>

                            <!-- HÀNG 2: Giá gốc -->
                            <div class="price-old"
                                 th:text="${#numbers.formatDecimal(product.price,0,'COMMA',0,'POINT')} + ' đ'">
                                15,000,000 đ
                            </div>

                            <!-- Tên -->
                            <p class="mb-0 mt-2" th:text="${product.name}">Tên sản phẩm</p>
                        </div>

                        <div class="card-footer text-center bg-white border-0">
                            <button class="btn btn-outline-danger w-100">Sắp diễn ra</button>
                        </div>
                    </div>
                </div>
            </div>

            <button class="fs-nav fs-next" type="button" aria-label="Sau">›</button>
        </div>


        <button class="fs-nav fs-next"
                th:if="${#lists.size(products) > 5}"
                type="button" aria-label="Sau">›</button>


<section class="featured">
    <h2>Sản phẩm nổi bật</h2>
    <div class="product-grid">
        <div class="product-card" th:each="product : ${products}">
            <img th:src="@{${product.imageUrls[0]}}" th:alt="${product.name}" />
            <h3 th:text="${product.name}">Tên sản phẩm</h3>
            <p class="price"
               th:text="${#numbers.formatDecimal(product.price,0,'COMMA',0,'POINT')} + ' đ'">
                5,000,000 đ
            </p>
            <button class="btn-add">Thêm vào giỏ</button>
        </div>
    </div>
</section>

<!-- Footer -->
<footer th:replace="~{client/layout/footer :: footer}"></footer>

<!-- Bootstrap JS + script của bạn -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/home.js}"></script>
</body>
</html>
